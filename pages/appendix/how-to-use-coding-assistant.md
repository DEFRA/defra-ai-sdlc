# How to use a coding assistant in Defra

This guide explains how to use an AI coding assistant to produce production-quality code for Defra.

If you have used generative AI, AI coding assistants or AI copilots before, this approach might be different to how you have used them.

We use Cursor as an example, but the principles and approach are similar in all coding assistants approved for use by Defra.

## Use agent mode

Generate all code within the coding assistant using the [agent](https://docs.cursor.com/chat/overview).

Prompt the agent to generate code, tests, documentation and other files. It will generate everything you need within the code repository you have open.

You can [add context](https://docs.cursor.com/context/@-symbols/overview) to your agent - including files, images, web searches and other information. For example, tell the agent to read a user story in behavior-driven development (BDD) format, or reading a diagram.

In this workflow there is no need to not use external chatbots like ChatGPT and copy code into your project. We also do not recommend using less-productive features like copilots.

Working with agents is interactive. You guide the agent to the solution using prompts and review what it generates.

The [workflow guide](../feature-development/README.md) explains how to deliver software using agents in more detail.

**In Cursor:**
- Select the AI pane (top left)
- Select 'Agent' from the mode menu

## Set up rules for AI

Create project-level AI rules that define consistent and repeatable standards, patterns and conventions in your codebase. Agents use these rules when generating code.

Commit them to version control so all team members use the same AI rules.

See [Rules for AI](../appendix/rules-for-ai) for more information.

## Enable privacy settings

You must enable privacy settings. Privacy settings stop your code and data being stored on AI providers' servers. They also prevent your data being used to train AI models.

Do not use beta releases of coding assistants.

**In Cursor:**
- Go to Settings > General > Privacy Mode
- Turn this setting on

## Use git to manage changes

Use git to manage AI-generated changes. This is a proven reliable technique.

You must review everything generated by AI - code, tests, documentation and other files.

You must commit code using your GitHub name. That commit is your responsibility.

## Next steps

Read the [Getting Started](../getting-started/README.md) guide.

Learn to prompt, starting with the [Prompting](../appendix/prompt-library/prompting-guidance.md) guide.
